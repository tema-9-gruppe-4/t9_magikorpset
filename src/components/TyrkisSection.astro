---
import "../styles/general.css";
import MeldDigIndButton from "../components/MeldDigIndButton.astro";
---

<!-- ---
import "../styles/general.css";
import MeldDigIndButton from "../components/MeldDigIndButton.astro";
---

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"
  ><path
    fill="#7ed7c3"
    fill-opacity="1"
    d="M0,64L18.5,90.7C36.9,117,74,171,111,165.3C147.7,160,185,96,222,96C258.5,96,295,160,332,160C369.2,160,406,96,443,58.7C480,21,517,11,554,5.3C590.8,0,628,0,665,16C701.5,32,738,64,775,112C812.3,160,849,224,886,229.3C923.1,235,960,181,997,165.3C1033.8,149,1071,171,1108,192C1144.6,213,1182,235,1218,245.3C1255.4,256,1292,256,1329,218.7C1366.2,181,1403,107,1422,69.3L1440,32L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z"
  ></path></svg
>
<section>
  <h1>Vil du være en del af korpset?</h1>
  <p>
    “I Magikorpset byder vi også stærke og støttende organisationer og
    enkeltpersoner velkommen, der ønsker at gøre en forskel for syge børn gennem
    Kids Aid. Som medlem af Magikorpset bliver I en aktiv del af vores mission –
    sammen skaber vi håb, styrke og smil for dem, der har allermest brug for
    det.
  </p>
  <p>
    Er I klar til at stå sammen med os? Du/I kan blive en del af Magikorpset
    hjemmefra, så vi sammen kan skabe magi!
  </p>
  <MeldDigIndButton buttontext="Meld dig ind her" />
</section>
<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 1440 320"
  class="flipped-svg"
  ><path
    fill="#7ed7c3"
    fill-opacity="1"
    d="M0,64L18.5,90.7C36.9,117,74,171,111,165.3C147.7,160,185,96,222,96C258.5,96,295,160,332,160C369.2,160,406,96,443,58.7C480,21,517,11,554,5.3C590.8,0,628,0,665,16C701.5,32,738,64,775,112C812.3,160,849,224,886,229.3C923.1,235,960,181,997,165.3C1033.8,149,1071,171,1108,192C1144.6,213,1182,235,1218,245.3C1255.4,256,1292,256,1329,218.7C1366.2,181,1403,107,1422,69.3L1440,32L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z"
  ></path></svg
> --><!-- <style>
  svg {
    display: block;
    margin: 0;
    padding: 0;
  }

  .flipped-svg {
    transform: scale(-1, -1);
  }

  section {
    margin: 0;
    padding: 5rem;
    background-color: #7ed7c3;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: left;
    height: 100%;
  }
  p {
    margin-bottom: 2rem;
  }
  h1 {
    margin-bottom: 3rem;
  }
</style> -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
  <path
    fill="#7ed7c3"
    fill-opacity="1"
    d="M0,64L18.5,90.7C36.9,117,74,171,111,165.3C147.7,160,185,96,222,96C258.5,96,295,160,332,160C369.2,160,406,96,443,58.7C480,21,517,11,554,5.3C590.8,0,628,0,665,16C701.5,32,738,64,775,112C812.3,160,849,224,886,229.3C923.1,235,960,181,997,165.3C1033.8,149,1071,171,1108,192C1144.6,213,1182,235,1218,245.3C1255.4,256,1292,256,1329,218.7C1366.2,181,1403,107,1422,69.3L1440,32L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z"
  ></path>
</svg>

<section>
  <h1 class="tyrkis-section-heading">Vil du være en del af korpset?</h1>
  <p>
    “I Magikorpset byder vi også stærke og støttende organisationer og
    enkeltpersoner velkommen, der ønsker at gøre en forskel for syge børn gennem
    Kids Aid. Som medlem af Magikorpset bliver I en aktiv del af vores mission –
    sammen skaber vi håb, styrke og smil for dem, der har allermest brug for
    det.
  </p>
  <p>
    Er I klar til at stå sammen med os? Du/I kan blive en del af Magikorpset
    hjemmefra, så vi sammen kan skabe magi!
  </p>
  <MeldDigIndButton buttontext="Meld dig ind her" />
</section>

<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 1440 320"
  class="flipped-svg"
>
  <path
    fill="#7ed7c3"
    fill-opacity="1"
    d="M0,64L18.5,90.7C36.9,117,74,171,111,165.3C147.7,160,185,96,222,96C258.5,96,295,160,332,160C369.2,160,406,96,443,58.7C480,21,517,11,554,5.3C590.8,0,628,0,665,16C701.5,32,738,64,775,112C812.3,160,849,224,886,229.3C923.1,235,960,181,997,165.3C1033.8,149,1071,171,1108,192C1144.6,213,1182,235,1218,245.3C1255.4,256,1292,256,1329,218.7C1366.2,181,1403,107,1422,69.3L1440,32L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z"
  ></path>
</svg>

<style>
  svg {
    display: block;
    margin: 0;
    padding: 0;
  }

  .flipped-svg {
    transform: scale(-1, -1);
  }

  section {
    margin: 0;
    padding: 5rem;
    background-color: #7ed7c3;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: left;
    height: 100%;
  }
  p {
    margin-bottom: 2rem;
  }
  h1 {
    margin-bottom: 3rem;
  }
</style>

<script>
  import gsap from "gsap";
  import ScrollTrigger from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  function wrapLettersWithSpans(selector) {
    const element = document.querySelector(selector);
    const text = element.textContent;
    element.innerHTML = text
      .split("")
      .map((char) => (char === " " ? " " : `<span>${char}</span>`))
      .join("");
  }

  // Når DOM er klar
  document.addEventListener("DOMContentLoaded", () => {
    wrapLettersWithSpans(".tyrkis-section-heading");

    const h1Spans = document.querySelectorAll(".tyrkis-section-heading span");

    gsap.fromTo(
      h1Spans,
      {
        opacity: 0,
        scale: 0.5,
        y: 50,
      },
      {
        opacity: 1,
        scale: 1,
        y: 0,
        stagger: 0.1,
        ease: "bounce.out",
        scrollTrigger: {
          trigger: ".tyrkis-section-heading",
          start: "top 80%",
          end: "top 20%",
          scrub: true,
        },
      }
    );
  });
</script>
